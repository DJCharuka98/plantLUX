define(['Magento_RequisitionList/js/modal/modal-component','jquery','underscore','jquery/validate','mage/validation','mage/translate'],function(ModalComponent,$,_){'use strict';return ModalComponent.extend({defaults:{options:{modalClass:'modal-slide requisition-popup',focus:'.requisition-popup .input-text:first',buttons:[{'class':'action primary confirm',text:$.mage.__('Save'),actions:['actionDone']},{'class':'action secondary cancel',text:$.mage.__('Cancel'),actions:['actionCancel']}]}},setValues:function(data){this.elems().forEach(function(elem){if(_.isFunction(elem.setValues)){elem.setValues(data);}});},getValues:function(){var values={};this.elems().forEach(function(elem){if(_.isFunction(elem.getValues)){_.extend(values,elem.getValues());}});return values;},openModal:function(){this._super();this.dfd=$.Deferred();return this.dfd.promise();},actionDone:function(){var form=$(this.modal).find('form').validation();if(form.valid()){this.dfd.resolve(this.getValues());this.closeModal();}},actionCancel:function(){this.dfd.reject();this.closeModal();}});});